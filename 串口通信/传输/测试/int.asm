;**************???*************************
		LED 	 BIT	P2.4
		BUZZER   BIT	P2.7
		CLOCK    DATA	30H
               ORG	0000H 			
		LJMP	     MAIN	;??????
;**************??????*************************
	            ORG    000BH
		 LJMP       T0_INT	;???T0??????
 		       ORG    0013H
		 LJMP       INT1_INT	;?????????
               ORG    001BH
		 LJMP       T1_INT	;???T1??????
		       ORG     0100H
;**************???*************************
MAIN:	    SETB	IT1		;??????????
			SETB	EX1		;????
			SETB	PX1		;?????
			SETB	EA		;????
			SETB	F0		;??????,F0=1,LED?.F0=0,LED?;
			MOV    TMOD,#12H
			SJMP   $             ;????
;**************??????*************************
 INT1_INT:	CPL	F0		;??????
			JNB	F0,OPEN_T     ;F0=0,??T0?T1??
			CLR	TR0		;??T0??
			CLR	ET0		;??T0??
			CLR	TR1		;??T1??
			CLR	ET1		;??T1??
			SETB	LED
			SETB   BUZZER
			RETI		       ;????
OPEN_T:	MOV 	TH0,#06H   ;??????
            MOV  	TL0,#06H     
			MOV  	TH1,#3CH   
            MOV 	TL1,#0B0H     
			SETB	TR0		;??T0??
			SETB	ET0		;??T0??
			SETB	TR1		;??T1??
			SETB	ET1		;??T1??
			RETI
;**************T0??????**********************
  T0_INT:	CPL	BUZZER	;??????????
			RETI
;**************T1??????************************
     T1_INT:PUSH	 ACC		  ;????
			 PUSH	 PSW
  		       CLR	 TR1			 
             MOV   TH1,#3CH    ;????????
             MOV   TL1,#0B0H  
			 SETB	 TR1
			 INC	 CLOCK        ;????1
			 MOV	 A,CLOCK
			 CJNE	 A,#5, TMPL
       TMPL:JC	 RETURN	  ;??0.5s??
			 CPL	 LED		  ;?0.5s????
			 MOV	 CLOCK,#0	  ;?????
     RETURN:POP	 PSW
			 POP	 ACC 
			 RETI
			 END

